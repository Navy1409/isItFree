<div class="min-h-screen bg-background-light font-display text-charcoal">
  <main class="max-w-[1200px] mx-auto px-6 py-8">

    <!-- Header -->
    <div class="bg-white rounded-xl shadow border border-[#f1f0e9] p-6 mb-8">
      <h1 class="text-3xl font-extrabold mb-2">
        {{ office?.officeName }}
      </h1>

      <div class="flex flex-wrap gap-4 text-sm">
        <span class="font-semibold text-charcoal/70">
          {{ availableSeatsCount }} / {{ seats.length }} Seats Available
        </span>
      </div>
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-12 gap-8">

      <!-- Seat Grid -->
      <div class="lg:col-span-8 bg-white rounded-xl border border-[#f1f0e9] p-8">
        <h2 class="font-bold mb-6">Interactive Floor Map</h2>

        <div
          class="grid gap-4 max-w-md mx-auto"
          [style.gridTemplateColumns]="'repeat(' + columns + ', minmax(0, 1fr))'"
        >
          <button
            *ngFor="let seat of seats"
            (click)="selectSeat(seat)"
            class="seat p-3 rounded-lg font-bold transition"
            [disabled]="isSeatFullyBooked(seat)"
            [ngClass]="{
              'bg-gray-300 cursor-not-allowed text-gray-500': isSeatFullyBooked(seat),

              'bg-yellow-100 border border-yellow-400 text-yellow-800':
                !isSeatFullyBooked(seat) &&
                (getSeatStatus(seat).firstHalfBooked || getSeatStatus(seat).secondHalfBooked),

              'border-2 border-primary text-primary':
                !isSeatFullyBooked(seat),

              'bg-primary text-white ring-4 ring-primary/20':
                selectedSeat?.row === seat.row && selectedSeat?.column === seat.column
            }"
          >
            {{ getSeatLabel(seat) }}
          </button>
        </div>

        <!-- Legend -->
        <div class="flex gap-4 justify-center mt-8 text-xs">
          <div class="flex items-center gap-2">
            <span class="w-4 h-4 bg-gray-300 rounded"></span> Fully Booked
          </div>
          <div class="flex items-center gap-2">
            <span class="w-4 h-4 bg-yellow-100 border border-yellow-400 rounded"></span> Partially Booked
          </div>
          <div class="flex items-center gap-2">
            <span class="w-4 h-4 bg-primary rounded"></span> Selected
          </div>
        </div>
      </div>

      <!-- Booking Panel -->
      <div class="lg:col-span-4 space-y-6">

        <div class="bg-white rounded-xl border border-[#f1f0e9] p-6">
          <h3 class="font-bold mb-4">Booking Details</h3>

          <form class="space-y-4" (ngSubmit)="confirmBooking()">

            <!-- Date -->
            <div>
              <label class="text-xs font-bold text-charcoal/60">Date</label>
              <input
                type="date"
                class="w-full rounded-lg bg-background-light p-2"
                [value]="date"
                disabled
              />
            </div>

            <!-- Slot -->
            <div>
              <label class="text-xs font-bold text-charcoal/60">Time Slot</label>
              <select
                class="w-full rounded-lg bg-background-light p-2"
                [(ngModel)]="selectedHalf"
                (change)="onHalfChange()"
                name="half"
              >
                <option value="first half" [disabled]="!canBookFirstHalf()">First Half</option>
                <option value="second half" [disabled]="!canBookSecondHalf()">Second Half</option>
                <option value="full day" [disabled]="!canBookFullDay()">Full Day</option>
              </select>
            </div>

            <!-- Time Preview -->
            <div class="flex justify-between text-xs text-charcoal/60">
              <span>From: <b>{{ startTime }}</b></span>
              <span>To: <b>{{ endTime }}</b></span>
            </div>

            <!-- Selected Seat -->
            <div class="flex justify-between text-sm font-medium">
              <span>Selected Seat</span>
              <span class="text-primary font-bold">
                {{ selectedSeat ? getSeatLabel(selectedSeat) : '-' }}
              </span>
            </div>

            <!-- Confirm -->
            <button
              type="submit"
              class="w-full bg-primary text-white font-bold py-3 rounded-lg disabled:opacity-50"
              [disabled]="!selectedSeat"
            >
              Confirm Seat Booking
            </button>

          </form>
        </div>

      </div>

    </div>
  </main>
</div>
